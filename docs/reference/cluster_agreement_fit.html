<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cluster Agreement Fit — cluster_agreement_fit • clav</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cluster Agreement Fit — cluster_agreement_fit"><meta name="description" content="This function calculates the cluster agreement fit for varying cluster sizes (k). Note that this
function will call cluster_validation() for each k hence this function may take a while to
execute for large data frames and large k.
This function will calculate how the cluster membership agreement among all observations.
For each bootstrap sample, cluster membership is determined by using the predict() function
so that each observation has exactly one cluster ID. This also means that both in- and
out-of-bag samples are contributing to the fit statistic. The value in the matrix is a value
between zero and one indicating the proportion of times the two observations had the same
cluster membership."><meta property="og:description" content="This function calculates the cluster agreement fit for varying cluster sizes (k). Note that this
function will call cluster_validation() for each k hence this function may take a while to
execute for large data frames and large k.
This function will calculate how the cluster membership agreement among all observations.
For each bootstrap sample, cluster membership is determined by using the predict() function
so that each observation has exactly one cluster ID. This also means that both in- and
out-of-bag samples are contributing to the fit statistic. The value in the matrix is a value
between zero and one indicating the proportion of times the two observations had the same
cluster membership."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">clav</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/clav.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cluster_agreement_fit.html">Cluster Agreement Fit Statistic</a></li>
    <li><a class="dropdown-item" href="../articles/clustering_overlap_metric.html">Clustering Overlap Metric for Determining the Optimal Number of Clusters</a></li>
    <li><a class="dropdown-item" href="../articles/daacs.html">College Readiness Profiles</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbryer/clav/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cluster Agreement Fit</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbryer/clav/blob/HEAD/R/cluster_agreement_fit.R" class="external-link"><code>R/cluster_agreement_fit.R</code></a></small>
      <div class="d-none name"><code>cluster_agreement_fit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the cluster agreement fit for varying cluster sizes (k). Note that this
function will call <code><a href="cluster_validation.html">cluster_validation()</a></code> for each k hence this function may take a while to
execute for large data frames and large k.</p>
<p>This function will calculate how the cluster membership agreement among all observations.
For each bootstrap sample, cluster membership is determined by using the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function
so that each observation has exactly one cluster ID. This also means that both in- and
out-of-bag samples are contributing to the fit statistic. The value in the matrix is a value
between zero and one indicating the proportion of times the two observations had the same
cluster membership.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cluster_agreement_fit</span><span class="op">(</span><span class="va">df</span>, k <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cluster_agreement_fit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, palette_type <span class="op">=</span> <span class="st">"qual"</span>, palette <span class="op">=</span> <span class="fl">1</span>, palette_direction <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cluster_agreement_fit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">x</span>, exclude_agreements <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cluster_agreement_fit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cluster_agreement_fit'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">thresholds</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cluster_agreement</span><span class="op">(</span><span class="va">cv</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>data frame to estimate clusters. Note that all columns will be used in the estimation.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>vector indicating the number of clusters to calculate the agreement fit for.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>whether the function should print the status while running.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>currently not used.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>results from <code>cluster_agreement_fit()</code></p></dd>


<dt id="arg-palette-type">palette_type<a class="anchor" aria-label="anchor" href="#arg-palette-type"></a></dt>
<dd><p>One of "seq" (sequential), "div" (diverging) or "qual" (qualitative)</p></dd>


<dt id="arg-palette">palette<a class="anchor" aria-label="anchor" href="#arg-palette"></a></dt>
<dd><p>f a string, will use that named palette.</p></dd>


<dt id="arg-palette-direction">palette_direction<a class="anchor" aria-label="anchor" href="#arg-palette-direction"></a></dt>
<dd><p>Sets the order of colours in the scale.</p></dd>


<dt id="arg-exclude-agreements">exclude_agreements<a class="anchor" aria-label="anchor" href="#arg-exclude-agreements"></a></dt>
<dd><p>if <code>TRUE</code> agreements of zero or one will be excluded from the bar
plot. This may be helpful for seeing the pattern of how much agreement there may be
when the mode is zero and/or one.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>results from <code>cluster_agreement_fit()</code></p></dd>


<dt id="arg-thresholds">thresholds<a class="anchor" aria-label="anchor" href="#arg-thresholds"></a></dt>
<dd><p>a vector of thresholds to consider "perfect" agreement. Specifically, values, x,
where x &lt; 0 + threshold or x &gt; (1 - threshold) are considered to agree. Additional columns
of the format <code>fitXXX</code> where <code>XXX</code> is the threshold.</p></dd>


<dt id="arg-cv">cv<a class="anchor" aria-label="anchor" href="#arg-cv"></a></dt>
<dd><p>a <code><a href="cluster_validation.html">cluster_validation()</a></code> object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of length <code>length(k)</code>. Each element is a list with the following elements:</p><dl><dt>k</dt>
<dd><p>the number of clusters estimated.</p></dd>

<dt>cv</dt>
<dd><p>the results from <code><a href="cluster_validation.html">cluster_validation()</a></code></p></dd>

<dt>ca_mat</dt>
<dd><p>the results from <code>cluster_agreement()</code></p></dd>

<dt>caf</dt>
<dd><p>the cluster agreement fit.</p></dd>


</dl><p>a ggplot2 expression.</p>
<p>a ggplot2 expression.</p>
<p>a data.frame providing the agreement fit for each k.</p>
<p>a data.frame providing the agreement fit for each k.</p>
<p>a matrix with how often each observations cluster membership agrees with all other
observations across all bootstrap sample.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The cluster agreement fit is a measure of how often observations are either in the same cluster
or not. In a perfect agreement situation the matrix returned by <code>cluster_agreement()</code> will have
all zeros or all ones indicating that a pair of observations are never in the same cluster or
always in the same cluster, respectively.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Bryer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

